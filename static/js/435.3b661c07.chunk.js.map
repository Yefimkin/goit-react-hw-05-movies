{"version":3,"file":"static/js/435.3b661c07.chunk.js","mappings":"iRAwDA,EArDmB,SAAC,GAAkB,IAAhBA,EAAe,EAAfA,SAgBpB,GAA8BC,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAkBC,EAAlB,KAgBA,OACE,0BACE,kBAAMH,SAXW,SAAAI,GACnBA,EAAEC,iBACFL,EAASE,EAEV,EAOG,WACE,kBACEI,KAAK,OACLC,KAAK,QACLC,aAAa,MACbC,WAAS,EACTC,YAAY,8BACZC,MAAOT,EACPU,SAxBa,SAAAR,GACnBA,EAAEC,iBACF,IAAQM,EAAUP,EAAES,cAAZF,MACRR,EAASQ,EACV,KAsBK,mBAAQL,KAAK,SAAb,wBAIP,ECWD,EAxDmB,WACjB,OAA4BL,EAAAA,EAAAA,UAAS,IAArC,eAAOa,EAAP,KAAeC,EAAf,KACA,GAA8Bd,EAAAA,EAAAA,WAAS,GAAvC,eAAOe,EAAP,KAAgBC,EAAhB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,GAAWC,EAAAA,EAAAA,MACXC,EAAcJ,EAAaK,IAAI,SALd,SAORC,EAPQ,0EAOvB,WAA2BvB,GAA3B,0EACOA,EADP,wDAIEe,GAAW,GAJb,mBAMyBS,EAAAA,EAAAA,IAAiBxB,GAN1C,UAO0B,KADhBY,EANV,QAOea,OAPf,wBAQMC,MAAM,mBARZ,2BAWIb,EAAUD,GAXd,kDAaIe,QAAQC,IAAR,MAbJ,yBAeIb,GAAW,GAff,8EAPuB,sBAqCvB,OANAc,EAAAA,EAAAA,YAAU,WACJR,GACFE,EAAYF,EAEf,GAAE,CAACA,KAGF,4BACE,SAAC,EAAD,CAAYvB,SAbS,SAAAE,GACvBkB,EAAgB,CAAEY,MAAO9B,IACzBuB,EAAYvB,EACb,IAWIc,IAAW,SAACiB,EAAA,EAAD,IACXnB,IACC,wBACGA,EAAOoB,KAAI,SAAAC,GAAK,OACf,yBACE,SAAC,KAAD,CAAMC,GAAE,kBAAaD,EAAME,IAAMC,MAAO,CAAEC,KAAMlB,GAAhD,SACGc,EAAMK,SAFFL,EAAME,GADA,QAW1B,C,8LCjBKI,EAAM,mCACZC,EAAAA,EAAAA,SAAAA,QAAyB,+BAElB,IAAMC,EAAiB,mCAAG,sGACRD,EAAAA,EAAAA,IAAA,oCAAuCD,IAD/B,cACzBG,EADyB,gBAEFA,EAASC,KAAKC,QAFZ,cAEzBC,EAFyB,yBAGxBA,GAHwB,2CAAH,qDAMjBC,EAAe,mCAAG,WAAMX,GAAN,yFACNK,EAAAA,EAAAA,IAAA,iBACXL,EADW,oBACGI,EADH,oBADM,cACvBG,EADuB,gBAKFA,EAASC,KALP,cAKvBI,EALuB,yBAMtBA,GANsB,2CAAH,sDASfC,EAAe,mCAAG,WAAMC,GAAN,yFACNT,EAAAA,EAAAA,IAAA,iBACXS,EADW,4BACgBV,EADhB,oBADM,cACvBG,EADuB,gBAIFA,EAASC,KAJP,cAIvBO,EAJuB,yBAKtBA,GALsB,2CAAH,sDAQfC,EAAe,mCAAG,WAAMF,GAAN,yFACNT,EAAAA,EAAAA,IAAA,iBAAoBS,EAApB,4BAA+CV,IADzC,cACvBG,EADuB,gBAEFA,EAASC,KAFP,cAEvBS,EAFuB,yBAGtBA,GAHsB,2CAAH,sDAMf5B,EAAgB,mCAAG,WAAOxB,EAAWqD,GAAlB,yFACPb,EAAAA,EAAAA,IAAA,+BACGD,EADH,iBACec,EADf,8BACyCrD,IAFlC,cACxB0C,EADwB,gBAICA,EAASC,KAAKC,QAJf,cAIxBU,EAJwB,yBAKvBA,GALuB,2CAAH,uD","sources":["components/SearchForm/SearchForm.js","components/MovieSearch/MovieSearch.js","services/moviesApi.js"],"sourcesContent":["import { useState } from 'react';\nimport { PropTypes } from 'prop-types';\n\nconst SearchForm = ({ onSubmit }) => {\n  // const [movieName, setMovieName] = useState('');\n\n  // const handleChange = event => {\n  //   setMovieName(event.currentTarget.value.toLowerCase());\n  // };\n\n  // const handleSubmit = event => {\n  //   event.preventDefault();\n  //   if (movieName.trim() === '') {\n  //     alert('Your search is empty');\n  //   }\n  //   onSubmit(movieName);\n  //   setMovieName('');\n  // };\n\n  const [movieName, setQuery] = useState('');\n\n  const handleChange = e => {\n    e.preventDefault();\n    const { value } = e.currentTarget;\n    setQuery(value);\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit(movieName);\n    // reset();\n  };\n\n  // const reset = () => setQuery('');\n  \n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          name=\"query\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Enter the title of the film\"\n          value={movieName}\n          onChange={handleChange}\n        />\n        <button type=\"submit\">Search</button>\n      </form>\n    </div>\n  );\n};\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\nexport default SearchForm;","import { useState, useEffect } from 'react';\nimport { fetchMovieByName } from 'services/moviesApi';\nimport { Link, useSearchParams, useLocation } from 'react-router-dom';\nimport Loader from 'components/Loader/Loader';\nimport SearchForm from 'components/SearchForm/SearchForm';\n\nconst MoviesPage = () => {\n  const [movies, setMovies] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n  const currentItem = searchParams.get('query');\n\n  async function searchMovie(movieName) {\n    if (!movieName) {\n      return;\n    }\n    setLoading(true);\n    try {\n      const movies = await fetchMovieByName(movieName);\n      if (movies.length === 0) {\n        alert('Movie not found');\n        return;\n      }\n      setMovies(movies);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  const formSearchSubmit = movieName => {\n    setSearchParams({ query: movieName });\n    searchMovie(movieName);\n  };\n\n  useEffect(() => {\n    if (currentItem) {\n      searchMovie(currentItem);\n    }\n  }, [currentItem]);\n\n  return (\n    <div>\n      <SearchForm onSubmit={formSearchSubmit} />\n      {loading && <Loader />}\n      {movies && (\n        <ul>\n          {movies.map(movie => (\n            <li key={movie.id}>\n              <Link to={`/movies/${movie.id}`} state={{ from: location }}>\n                {movie.title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nexport default MoviesPage;","// import axios from 'axios';\n\n// // Key\n// const KEY = 'b119b11c5a40234389ef5bbd7aaf9e1d';\n// axios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\n// // список найпопулярніших фільмів на сьогодні для створення колекції на головній сторінці.\n// export const getTrendingMovies = async () => {\n//     const response = await axios.get(`/trending/all/day&api_key=${KEY}`);\n//     const trendingMovies = await response.data.results;\n//     return trendingMovies;\n// };\n\n// // пошук фільму за ключовим словом на сторінці фільмів.\n// export const searchMovies = async (movieName, page) => {\n//     const response = await axios.get(`search/movie?api_key=${KEY}&page=${page}&language=en&query=${movieName}`);\n//     const searchMoviesData = await response.data;\n//     return searchMoviesData;\n// }\n\n// // запит повної інформації про фільм для сторінки кінофільму.\n// export const getMovieDetails = async id => {\n//     const response = await axios.get(`/movie/${id}?api_key=${KEY}&language=en-US`);\n//     const movieDetails = await response.data;\n//     return movieDetails;\n// };\n\n// // запит інформації про акторський склад для сторінки кінофільму.\n// export const getMovieCredits = async movieId => {\n//     const response = await axios.get(`/movie/${movieId}/credits?api_key=${KEY}&language=en-US`);\n//     const movieCredits = await response.data;\n//     return movieCredits;\n// };\n\n// // запит оглядів для сторінки кінофільму.\n// export const getMovieReviews = async movieId => {\n//     const response = await axios.get(`/movie/${movieId}/reviews?api_key=${KEY}`);\n//     const movieReviews = await response.data;\n//     return movieReviews;\n// };\n\nimport axios from 'axios';\n\nconst KEY = 'b119b11c5a40234389ef5bbd7aaf9e1d';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport const getTrendingMovies = async () => {\n  const response = await axios.get(`/trending/all/day?api_key=${KEY}`);\n  const trendingMovies = await response.data.results;\n  return trendingMovies;\n};\n\nexport const getMovieDetails = async id => {\n  const response = await axios.get(\n    `/movie/${id}?api_key=${KEY}&language=en-US`\n  );\n\n  const movieDetails = await response.data;\n  return movieDetails;\n};\n\nexport const getMovieCredits = async movieId => {\n  const response = await axios.get(\n    `/movie/${movieId}/credits?api_key=${KEY}&language=en-US`\n  );\n  const movieCredits = await response.data;\n  return movieCredits;\n};\n\nexport const getMovieReviews = async movieId => {\n  const response = await axios.get(`/movie/${movieId}/reviews?api_key=${KEY}`);\n  const movieReviews = await response.data;\n  return movieReviews;\n};\n\nexport const fetchMovieByName = async (movieName, page) => {\n  const response = await axios.get(\n    `search/movie?api_key=${KEY}&page=${page}&language=en&query=${movieName}`\n  );\n  const searchMoviesData = await response.data.results;\n  return searchMoviesData;\n};"],"names":["onSubmit","useState","movieName","setQuery","e","preventDefault","type","name","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","movies","setMovies","loading","setLoading","useSearchParams","searchParams","setSearchParams","location","useLocation","currentItem","get","searchMovie","fetchMovieByName","length","alert","console","log","useEffect","query","Loader","map","movie","to","id","state","from","title","KEY","axios","getTrendingMovies","response","data","results","trendingMovies","getMovieDetails","movieDetails","getMovieCredits","movieId","movieCredits","getMovieReviews","movieReviews","page","searchMoviesData"],"sourceRoot":""}